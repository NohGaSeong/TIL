# Test Code?
## 공부하게 된 이유
- 팀 회의를 진행하던 도중, 테트 코드의 중요성을 언급하셨고, 테스트 코드를 따라 작성해본적은 있는데 자세히는 모르기 때문에 한번 알아보기로 하였다.

## Test Code?
- 내가 작성한 메서드가 제대로 동작하는지 테스트하는 코드이다.
### TDD
- 테스트가 주도하는 개발이다.
- 실패하는 테스트코드 작성 -> 테스트가 성공하는 프로덕션 코드 작성 -> 테스트가 성공하면 프로덕션 코드를 리팩토링 하는 식으로 개발을 한다.
- TDD 이외에도 여러가지 테스트 코드 작성 방식이 있지만 일단 TDD 만 알아보기로 하자.

## 테스트코드를 작성하는 이유?
- 서버를 싱행하는 등의 시간을 절약할 수 있다.
- 필요한 데이터를 미리 기입하고, 테스트가 끝나고 정리하는 등의 행동을 하지 않아도된다.
- 단위 테스트의 경우 수십ms 이기 때문에 테스트가 매우 빠르다.
- 문서로서의 역할이 가능하다. -> 테스트 코드는, 개발자가 작성한 메소드가 어떻게 동작했으면, 어떤 결과를 반환했으면, 하는것을 작성한 것이기 떄문에 처음 코드를 보는 개발자들이 테스트 코드를 통해 코드의 동작을 조금 더 수월하게 이해할 수 있다.

## 시간의 단축
- 코드 수정, 서버 동작, 데이터 DB 입력, 브라우저를 통해 서버 접속, 메소드 동작 요청, 데이터 정리 등등 테스트 코드가 없으면 이런 많은 절차를 걸쳐 에플리케이션을 테스트하여야합니다.
- 테스트 코드가 있다면 코드 수정, 테스트 코드 실행, 결과를 확인. 이렇게 과정이 단축되어 굉장히 많은 시간을 절약할 수 있습니다.

## 테스트 코드 작성 방법?
```.java
public class Person{
    public String hi(String name){
        return "hi" + name;
    }
}
```
### 테스트 대상 행위를 정합니다
- 예를 들어, 객체에 hi()라는 메소드에 매변수로 String 타입의 name을 전달하여 호출하면
### 기대하는 결과를 작성합니다
- hi name 을 반환해야합니다.
### 두 문장을 경합해 테스트 코드로 작성합니다.
```.java
public class PersonTest{
    @Test
    public void hi_Test() throws Exception {
        // given
        String name = "JJY"
        Person p1 = new Person();

        // when
        String ment = p1.hi(name);

        //then
        assertThat(ment, is("hi JJY));
    }
}
```

## 테스트 코드 팁
### given,when,then
- 어떠한 값이 주어지고(given), 무엇을 했을때 (when), 어떤 값을 원한다 (then) 을 나누어 직관적으로 볼 수 있기 떄문에 가독성이 향상되어 많은 곳에서 추천하는 테스트 코드 작성 스타일입니다.
- 테스트 코드의 가독성이 중요한 또 다른 이유는 위에서 언급한것처럼 테스트코드가 문서로써의 역할을 하기 때문입니다.
### 모든 response 에 대한 테스트를 진행한다.
- api 가 조금이라도 수정될 경우 테스트 코드가 실패하게 됨으로써, 항상 올바른 테스트 코드를 유지할 수 있도록 돕습니다.
- api가 변경되면, 테스트 코드 역시 변경되어야 하는 것은 당연합니다.
- 테스트 코드는 커버리지가 높을 수록 좋습니다. 테스트 코드는, 정상적으로 작동하는 부분만을 테스트 하면 안된다. 테스트 코드는 실수나 오류를 발견하고 이를 줄이고 수정하기 위해 작성하는 것입니다.

### F.I.R.S.T
#### Fast
- 단위 테스트는 가능한 빠르게 실행되어야합니다.
#### Independent
- 단위 테스트는 객체의 상태, 메소드, 이전 테스트 상태, 다른 메소드의 결과 등에 의존해서는 안됩니다.
- 단위테스트는 어떠한 순서로 실행하더라도 성공해야합니다.
#### Repeatable
- 단위테스트는 반복 가능해야합니다. 
#### Self-validating
- 단위 테스트는 자체 검증이 가능해야합니다. 
- 테스트를 개발자가 직접 수동으로 확인할 필요 없이, assert 문 등에 의해 성공 여부가 결과로 나타나야합니다.
#### Timely
- 단위 테스트를 통과하는 제품코드가 작성되기 바로 전에 단위테스트를 작성해야함.
- TDD를 하고 있다면 적용이 되지만 그렇지 않을 수도 있습니다.