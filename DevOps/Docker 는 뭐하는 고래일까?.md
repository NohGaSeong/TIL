# Docker 란 뭐하는 고래일까?
## 그전에 MSA 등 사전지식들을 알아보자
- MSA = Micro Service Architecture = 서비스간의 의존성을 없애고 기능을 쪼개는 것을 중점적으로 설계한 아키텍처.
### 장점?
- 서비스 단위의 개발 가능
- 지속적인 통합과 배포(CI/CD)를 효율적으로 할 수 있음.
- 패치가 필요한 서비스만 배포하거나 Hotfix 를 빠르게 처리할 수 있음.
- 전체가 아닌 필요한 서비스에만 이중화를 할 수 있다.

### 단점?
- 서비스 단위다 보니까 관리하기 복잡하다는 단점이 있음.
- 근데 Docker 를 사용하면 이런 문제를 쉽게 해결 할 수 있음.

## 다른것들을 알아보자.
### laC(Infrastructure as Code)
- 도커가 MSA를 위한 기술은 아님. 테스트, 스테이징, 배포 등의 여러 용도로도 사용 가능함.
- 중요하게 봐야할 관점은 도커를 사용하면 laC가 가능함.
- + 도커의 진짜 큰 힘은 인프라를 코드화해서 관리할 수 있따는 점임.

### Docker과 Container, 가상화
#### Container?
- 컨테이너 = Host OS 상에서 리소스를 논리적으로 구분하여 마치 별도의 서버인 것 처럼 사용할 수 있게 하는 기술.
- 논리적으로 구분한다 -> 물리적으로 구분하지 않기 때문에 쉽게 없애고 다시 생성할 수 있는 것. 이런 면에서 가볍다고 표현할 수 있음.

#### 컨테이너를 사용하는 이유
- 여러 애플리케이션에서 사용하고 있는 라이브러리나 미들웨어의 버전에 대한 충돌을 회피
- 이식성과 확작성이 좋다
    - 컨테이너 이미지 그대로 의존성 없이 다른 환경에서 실행 가능
    - 컨테이너를 여러 개 실행해서 이중화 가능

- 다양한 운영환경을 지원할 수 있다.

## 가상화 기술과 컨테이너 기술의 차이
### Legacy
- 하나의 물리 서버에 애플리케이션 배포
- 애플리케이션간 라이브러리나 미들웨어 버전의 충돌이 발생할 수 있음
### Hosted Hypervisor(가상화 소프트웨어)
- Virsual Box, VMWare, Parallels 와 같은 소프트웨어
- 호스트 OS 위에 가상화 소프트웨어를 설치해서 가상환경 구축
- 간편하게 사용할 수 있어 클라이언트 PC 에서 개발환경을 구축하거나 테스르를 위해 주로 사용
- 컨테이너와는 다르게 Guest OS 가 존재하여 오버헤드가 비교적 크다.
    - OS 위에 OS 를 실행하는 것이므로 리소스 (CPU, 메모리 등)을 할당하는데 작업이 필요

### Bare Metal Hypervisor
- Hyper-v, XZenServer, ESXI Server 등이 있다.
- Host OS 없이 하드웨어에 직접 하이퍼바이저를 설치
- Host OS 가 없어 지원을 효율적으로 사용할 수 있다.
    - 하드웨어가 제어
    - 오버헤드가 비교적 적다.
- 가상 머신들을 관리하기 위한 콘솔이 필요

### Container
- Docker, containered, CRI-O 등이 컨테이너 런타임으로 있음
- Guest OS 가 없고 Host OS의 커널을 공유하여 오버헤드가 적고 가벼워 빠르다
    - OS 실행 없이 별도의 환경에서 애플리케이션 실행이 가능
- 이식성과 확장성이 높다.

## 이제 진짜 Docker를 알아보자?